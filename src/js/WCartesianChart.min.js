WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WCartesianChart",function(ua,J,x,j){function M(a){return a===undefined}function n(a){return j.modelAreas[a]}function S(){return j.followCurve}function va(){return j.crosshair||S()!==-1}function y(){return j.isHorizontal}function o(){return j.xTransform}function h(a){return j.yTransforms[a]}function Oa(a){return j.yAxes[a].width}function ga(a){return j.yAxes[a].side}function Pa(a){return j.yAxes[a].minOffset}function Qa(a){return j.yAxes[a].maxOffset}function g(){return j.area}
function l(){return j.insideArea}function Z(a){return M(a)?j.series:j.series[a]}function aa(a){return Z(a).transform}function lb(a){return y()?z([0,1,1,0,0,0],z(aa(a),[0,1,1,0,0,0])):aa(a)}function Ra(a){return Z(a).curve}function N(a){return Z(a).axis}function mb(){return j.seriesSelection}function nb(){return j.sliders}function ob(){return j.hasToolTips}function pb(){return j.coordinateOverlayPadding}function Fa(){return j.curveManipulation}function wa(){return j.maxZoom.x}function T(a){return j.maxZoom.y[a]}
function K(){return j.pens}function qb(){return j.penAlpha}function ba(){return j.selectedCurve}function xa(a){a.preventDefault&&a.preventDefault()}function ca(a,b){J.addEventListener(a,b)}function U(a,b){J.removeEventListener(a,b)}function B(a){return a.length}function H(){return B(j.yTransforms)}function Bb(){if(j.notifyTransform.x)return true;for(var a=0;a<H();++a)if(j.notifyTransform.y[a])return true;return false}function O(){return j.crosshairAxis}function Ga(a,b){var c=g();if(y()){if(a<m(c)||
a>q(c))return-1}else if(b<r(c)||b>t(c))return-1;for(var d=0;d<H();++d)if(y())if((ga(d)==="min"||ga(d)==="both")&&b>=r(c)-Pa(d)-Oa(d)&&b<=r(c)-Pa(d))return d;else{if((ga(d)==="max"||ga(d)==="both")&&b>=t(c)+Qa(d)&&b<=t(c)+Qa(d)+Oa(d))return d}else if((ga(d)==="min"||ga(d)==="both")&&a>=m(c)-Pa(d)-Oa(d)&&a<=m(c)-Pa(d))return d;else if((ga(d)==="max"||ga(d)==="both")&&a>=q(c)+Qa(d)&&a<=q(c)+Qa(d)+Oa(d))return d;return-1}function bb(a){return a.pointerType===2||a.pointerType===3||a.pointerType==="pen"||
a.pointerType==="touch"}function Sa(){if(p){if(p.tooltipTimeout){clearTimeout(p.tooltipTimeout);p.tooltipTimeout=null}if(!p.overTooltip)if(p.tooltipOuterDiv){document.body.removeChild(p.tooltipOuterDiv);p.tooltipEl=null;p.tooltipOuterDiv=null}}}function Ha(){if(Bb()){if(Ta){window.clearTimeout(Ta);Ta=null}Ta=setTimeout(function(){if(j.notifyTransform.x&&!rb(cb,o())){ua.emit(x.widget,"xTransformChanged");ha(cb,o())}for(var a=0;a<H();++a)if(j.notifyTransform.y[a]&&!rb(Ua[a],h(a))){ua.emit(x.widget,
"yTransformChanged"+a);ha(Ua[a],h(a))}},Cb)}}function ia(a){var b,c;if(y()){b=m(g());c=r(g());return z([0,1,1,0,b,c],z(o(),z(h(a),[0,1,1,0,-c,-b])))}else{b=m(g());c=t(g());return z([1,0,0,-1,b,c],z(o(),z(h(a),[1,0,0,-1,-b,c])))}}function F(a){return z(ia(a),l())}function ja(a,b,c){if(M(c))c=false;a=c?a:z(Ia(ia(b)),a);a=y()?[(a[v]-g()[1])/g()[3],(a[w]-g()[0])/g()[2]]:[(a[w]-g()[0])/g()[2],1-(a[v]-g()[1])/g()[3]];return[n(b)[0]+a[w]*n(b)[2],n(b)[1]+a[v]*n(b)[3]]}function Va(a,b,c){if(M(c))c=false;return ka.toDisplayCoord(a,
c?[1,0,0,1,0,0]:ia(b),y(),g(),n(b))}function Ja(){var a,b;if(y()){a=(ja([0,r(g())],0)[0]-n(0)[0])/n(0)[2];b=(ja([0,t(g())],0)[0]-n(0)[0])/n(0)[2]}else{a=(ja([m(g()),0],0)[0]-n(0)[0])/n(0)[2];b=(ja([q(g()),0],0)[0]-n(0)[0])/n(0)[2]}var c;for(c=0;c<B(nb());++c){var d=$("#"+nb()[c]);if(d)(d=d.data("sobj"))&&d.changeRange(a,b)}}function V(){Sa();if(ob()&&p.tooltipPosition)p.tooltipTimeout=setTimeout(function(){sb()},tb);la&&ub(function(){x.repaint();va()&&db()})}function db(){if(la){var a=I.getContext("2d");
a.clearRect(0,0,I.width,I.height);a.save();a.beginPath();a.moveTo(m(g()),r(g()));a.lineTo(q(g()),r(g()));a.lineTo(q(g()),t(g()));a.lineTo(m(g()),t(g()));a.closePath();a.clip();var b=z(Ia(ia(O())),A),c=A[w],d=A[v];if(S()!==-1){b=Db(y()?b[v]:b[w],Ra(S()),y());d=z(ia(N(S())),z(lb(S()),b));c=d[w];d=d[v];A[w]=c;A[v]=d}b=y()?[(b[v]-g()[1])/g()[3],(b[w]-g()[0])/g()[2]]:[(b[w]-g()[0])/g()[2],1-(b[v]-g()[1])/g()[3]];b=S()!==-1?[n(N(S()))[0]+b[w]*n(N(S()))[2],n(N(S()))[1]+b[v]*n(N(S()))[3]]:[n(O())[0]+b[w]*
n(O())[2],n(O())[1]+b[v]*n(O())[3]];a.fillStyle=a.strokeStyle=j.crosshairColor;a.font="16px sans-serif";a.textAlign="right";a.textBaseline="top";var e=b[0].toFixed(2);b=b[1].toFixed(2);if(e==="-0.00")e="0.00";if(b==="-0.00")b="0.00";a.fillText("("+e+","+b+")",q(g())-pb()[0],r(g())+pb()[1]);a.setLineDash&&a.setLineDash([1,2]);a.beginPath();a.moveTo(Math.floor(c)+0.5,Math.floor(r(g()))+0.5);a.lineTo(Math.floor(c)+0.5,Math.floor(t(g()))+0.5);a.moveTo(Math.floor(m(g()))+0.5,Math.floor(d)+0.5);a.lineTo(Math.floor(q(g()))+
0.5,Math.floor(d)+0.5);a.stroke();a.restore()}}function Eb(a){return r(a)<=r(l())+Wa&&t(a)>=t(l())-Wa&&m(a)<=m(l())+Wa&&q(a)>=q(l())-Wa}function da(a){for(var b=0;b<H();++b){var c=F(b);if(y())if(a===ya)a=za;else if(a===za)a=ya;if(M(a)||a===ya)if(o()[0]<1){o()[0]=1;c=F(b)}if(M(a)||a===za)if(h(b)[3]<1){h(b)[3]=1;c=F(b)}if(M(a)||a===ya){if(m(c)>m(l())){c=m(l())-m(c);if(y())h(b)[5]=h(b)[5]+c;else o()[4]=o()[4]+c;c=F(b)}if(q(c)<q(l())){c=q(l())-q(c);if(y())h(b)[5]=h(b)[5]+c;else o()[4]=o()[4]+c;c=F(b)}}if(M(a)||
a===za){if(r(c)>r(l())){c=r(l())-r(c);if(y())o()[4]=o()[4]+c;else h(b)[5]=h(b)[5]-c;c=F(b)}if(t(c)<t(l())){c=t(l())-t(c);if(y())o()[4]=o()[4]+c;else h(b)[5]=h(b)[5]-c;F(b)}}}Ha()}function sb(){ua.emit(x.widget,"loadTooltip",p.tooltipPosition[w],p.tooltipPosition[v])}function Fb(){if(va()&&(M(I)||x.canvas.width!==I.width||x.canvas.height!==I.height)){if(I){I.parentNode.removeChild(I);jQuery.removeData(J,"oobj");I=undefined}var a=document.createElement("canvas");a.setAttribute("width",x.canvas.width);
a.setAttribute("height",x.canvas.height);a.style.position="absolute";a.style.display="block";a.style.left="0";a.style.top="0";if(window.MSPointerEvent||window.PointerEvent){a.style.msTouchAction="none";a.style.touchAction="none"}x.canvas.parentNode.appendChild(a);I=a;jQuery.data(J,"oobj",I)}else if(!M(I)&&!va()){I.parentNode.removeChild(I);jQuery.removeData(J,"oobj");I=undefined}A=[(m(g())+q(g()))/2,(r(g())+t(g()))/2]}function vb(){return I?I:x.canvas}function eb(a,b){if(Aa){var c=Date.now();if(M(b))b=
c-ma;var d={x:0,y:0},e;if(s===-1){e=F(0);for(var f=1;f<H();++f)e=Xa(e,F(f))}else e=F(s);f=Gb;if(b>2*Ka){la=false;var k=Math.floor(b/Ka-1),C;for(C=0;C<k;++C){eb(a,Ka);if(!Aa){la=true;V();return}}b-=k*Ka;la=true}if(i.x===Infinity||i.x===-Infinity)i.x=i.x>0?na:-na;if(isFinite(i.x)){i.x/=1+wb*b;e[0]+=i.x*b;if(m(e)>m(l())){i.x+=-f*(m(e)-m(l()))*b;i.x*=0.7}else if(q(e)<q(l())){i.x+=-f*(q(e)-q(l()))*b;i.x*=0.7}if(Math.abs(i.x)<fb)if(m(e)>m(l()))i.x=fb;else if(q(e)<q(l()))i.x=-fb;if(Math.abs(i.x)>na)i.x=
(i.x>0?1:-1)*na;d.x=i.x*b}if(i.y===Infinity||i.y===-Infinity)i.y=i.y>0?na:-na;if(isFinite(i.y)){i.y/=1+wb*b;e[1]+=i.y*b;if(r(e)>r(l())){i.y+=-f*(r(e)-r(l()))*b;i.y*=0.7}else if(t(e)<t(l())){i.y+=-f*(t(e)-t(l()))*b;i.y*=0.7}if(Math.abs(i.y)<0.001)if(r(e)>r(l()))i.y=0.001;else if(t(e)<t(l()))i.y=-0.001;if(Math.abs(i.y)>na)i.y=(i.y>0?1:-1)*na;d.y=i.y*b}if(s===-1){e=F(0);for(f=1;f<H();++f)e=Xa(e,F(f))}else e=F(s);W(d,Ba,s);if(s===-1){a=F(0);for(f=1;f<H();++f)a=Xa(a,F(f))}else a=F(s);if(m(e)>m(l())&&m(a)<=
m(l())){i.x=0;W({x:-d.x,y:0},Ba,s);da(ya)}if(q(e)<q(l())&&q(a)>=q(l())){i.x=0;W({x:-d.x,y:0},Ba,s);da(ya)}if(r(e)>r(l())&&r(a)<=r(l())){i.y=0;W({x:0,y:-d.y},Ba,s);da(za)}if(t(e)<t(l())&&t(a)>=t(l())){i.y=0;W({x:0,y:-d.y},Ba,s);da(za)}if(Math.abs(i.x)<xb&&Math.abs(i.y)<xb&&Eb(a)){da();Aa=false;D=null;i.x=0;i.y=0;ma=null;u=[]}else{ma=c;la&&Ya(eb)}}}function Za(){var a,b,c=yb(o()[0])-1;if(c>=B(K().x))c=B(K().x)-1;for(a=0;a<B(K().x);++a)if(c===a)for(b=0;b<B(K().x[a]);++b)K().x[a][b].color[3]=qb().x[b];
else for(b=0;b<B(K().x[a]);++b)K().x[a][b].color[3]=0;for(c=0;c<B(K().y);++c){var d=yb(h(c)[3])-1;if(d>=B(K().y[c]))d=B(K().y[c])-1;for(a=0;a<B(K().y[c]);++a)if(d===a)for(b=0;b<B(K().y[c][a]);++b)K().y[c][a][b].color[3]=qb().y[c][b];else for(b=0;b<B(K().y[c][a]);++b)K().y[c][a][b].color[3]=0}}function W(a,b,c){if(M(b))b=0;if(M(c))c=-1;var d=ja(A,O());if(y())a={x:a.y,y:-a.x};if(b&Ba){if(c===-1){o()[4]=o()[4]+a.x;for(b=0;b<H();++b)h(b)[5]=h(b)[5]-a.y}else h(c)[5]=h(c)[5]-a.y;Ha()}else if(b&zb){var e;
if(c===-1){e=F(0);for(b=1;b<H();++b)e=Xa(e,F(b))}else e=F(c);if(m(e)>m(l())){if(a.x>0)a.x/=1+(m(e)-m(l()))*$a}else if(q(e)<q(l()))if(a.x<0)a.x/=1+(q(l())-q(e))*$a;if(r(e)>r(l())){if(a.y>0)a.y/=1+(r(e)-r(l()))*$a}else if(t(e)<t(l()))if(a.y<0)a.y/=1+(t(l())-t(e))*$a;if(c===-1){o()[4]=o()[4]+a.x;for(b=0;b<H();++b)h(b)[5]=h(b)[5]-a.y}else h(c)[5]=h(c)[5]-a.y;if(c===-1)A[w]+=a.x;A[v]+=a.y;Ha()}else{if(c===-1){o()[4]=o()[4]+a.x;for(b=0;b<H();++b)h(b)[5]=h(b)[5]-a.y}else h(c)[5]=h(c)[5]-a.y;if(c===-1)A[w]+=
a.x;A[v]+=a.y;da()}a=Va(d,O());A[w]=a[w];A[v]=a[v];V();Ja()}function La(a,b,c,d){if(M(d))d=-1;var e=ja(A,O());a=y()?[a.y-r(g()),a.x-m(g())]:z(Ia([1,0,0,-1,m(g()),t(g())]),[a.x,a.y]);var f=a[0];a=a[1];var k=Math.pow(1.2,y()?c:b);b=Math.pow(1.2,y()?b:c);if(o()[0]*k>wa())k=wa()/o()[0];if(d===-1){if(k<1||o()[0]!==wa())Ca(o(),z([k,0,0,1,f-k*f,0],o()));for(d=0;d<H();++d){c=b;if(h(d)[3]*b>T(d))c=T(d)/h(d)[3];if(c<1||h(d)[3]!==T(d))Ca(h(d),z([1,0,0,c,0,a-c*a],h(d)))}}else{if(h(d)[3]*b>T(d))b=T(d)/h(d)[3];
if(b<1||h(d)[3]!=T(d))Ca(h(d),z([1,0,0,b,0,a-b*a],h(d)))}da();e=Va(e,O());A[w]=e[w];A[v]=e[v];Za();V();Ja()}jQuery.data(J,"cobj",this);var oa=this,E=ua.WT;oa.config=j;var G=E.gfxUtils,z=G.transform_mult,Ia=G.transform_inverted,ha=G.transform_assign,rb=G.transform_equal,Hb=G.transform_apply,r=G.rect_top,t=G.rect_bottom,m=G.rect_left,q=G.rect_right,Xa=G.rect_intersection,ka=E.chartCommon,Ib=ka.minMaxY,Db=ka.findClosestPoint,Jb=ka.projection,Ab=ka.distanceLessThanRadius,yb=ka.toZoomLevel,Ma=ka.isPointInRect,
Kb=ka.findYRange,Ka=17,Ya=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,Ka)}}(),gb=false,ub=function(a){if(!gb){gb=true;Ya(function(){a();gb=false})}};if(window.MSPointerEvent||window.PointerEvent){J.style.touchAction="none";x.canvas.style.msTouchAction="none";x.canvas.style.touchAction="none"}var Ba=1,zb=2,ya=1,za=2,w=0,v=1,Cb=250,tb=500,wb=0.003,Gb=2.0E-4,$a=0.07,Wa=3,fb=0.001,na=1.5,xb=0.02,ra=
jQuery.data(J,"eobj2");if(!ra){ra={};ra.contextmenuListener=function(a){xa(a);U("contextmenu",ra.contextmenuListener)}}jQuery.data(J,"eobj2",ra);var X={},sa=false;if(window.MSPointerEvent||window.PointerEvent)(function(){function a(){sa=B(e)>0}function b(k){if(bb(k)){xa(k);e.push(k);a();X.start(J,{touches:e.slice(0)})}}function c(k){if(sa)if(bb(k)){xa(k);var C;for(C=0;C<B(e);++C)if(e[C].pointerId===k.pointerId){e.splice(C,1);break}a();X.end(J,{touches:e.slice(0),changedTouches:[]})}}function d(k){if(bb(k)){xa(k);
var C;for(C=0;C<B(e);++C)if(e[C].pointerId===k.pointerId){e[C]=k;break}a();X.moved(J,{touches:e.slice(0)})}}var e=[],f=jQuery.data(J,"eobj");if(f)if(window.PointerEvent){U("pointerdown",f.pointerDown);U("pointerup",f.pointerUp);U("pointerout",f.pointerUp);U("pointermove",f.pointerMove)}else{U("MSPointerDown",f.pointerDown);U("MSPointerUp",f.pointerUp);U("MSPointerOut",f.pointerUp);U("MSPointerMove",f.pointerMove)}jQuery.data(J,"eobj",{pointerDown:b,pointerUp:c,pointerMove:d});if(window.PointerEvent){ca("pointerdown",
b);ca("pointerup",c);ca("pointerout",c);ca("pointermove",d)}else{ca("MSPointerDown",b);ca("MSPointerUp",c);ca("MSPointerOut",c);ca("MSPointerMove",d)}})();var I=jQuery.data(J,"oobj"),A=null,la=true,D=null,s=-1,u=[],ea=false,pa=false,Q=null,hb=null,ib=null,i={x:0,y:0},Y=null,ma=null,p=jQuery.data(J,"tobj");if(!p){p={overTooltip:false};jQuery.data(J,"tobj",p)}var Da=null,Aa=false,Ta=null,cb=[0,0,0,0,0,0];ha(cb,o());var Ua=[];for(G=0;G<H();++G){Ua.push([0,0,0,0,0,0]);ha(Ua[G],h(G))}var Ca=function(a,
b){ha(a,b);Ha()};x.combinedTransform=ia;this.updateTooltip=function(a){Sa();if(a)if(p.tooltipPosition){p.toolTipEl=document.createElement("div");p.toolTipEl.className=j.ToolTipInnerStyle;p.toolTipEl.innerHTML=a;p.tooltipOuterDiv=document.createElement("div");p.tooltipOuterDiv.className=j.ToolTipOuterStyle;document.body.appendChild(p.tooltipOuterDiv);p.tooltipOuterDiv.appendChild(p.toolTipEl);var b=E.widgetPageCoordinates(x.canvas);a=p.tooltipPosition[w]+b.x;b=p.tooltipPosition[v]+b.y;E.fitToWindow(p.tooltipOuterDiv,
a+10,b+10,a-10,b-10);$(p.toolTipEl).mouseenter(function(){p.overTooltip=true});$(p.toolTipEl).mouseleave(function(){p.overTooltip=false})}};this.mouseMove=function(a,b){setTimeout(function(){setTimeout(Sa,200);if(!sa){var c=E.widgetCoordinates(x.canvas,b);if(Ma(c,g())){if(!p.tooltipEl&&ob()){p.tooltipPosition=[c.x,c.y];p.tooltipTimeout=setTimeout(function(){sb()},tb)}if(D===null&&va()&&la){A=[c.x,c.y];ub(db)}}}},0)};this.mouseOut=function(){setTimeout(Sa,200)};this.mouseDown=function(a,b){if(!sa){a=
E.widgetCoordinates(x.canvas,b);b=Ga(a.x,a.y);var c=Ma(a,g());if(!(b===-1&&!c)){D=a;s=b}}};this.mouseUp=function(){if(!sa){D=null;s=-1}};this.mouseDrag=function(a,b){if(!sa)if(D!==null){a=E.widgetCoordinates(x.canvas,b);if(E.buttons===1)if(s===-1&&Fa()&&Z(ba())){b=ba();var c;c=y()?a.x-D.x:a.y-D.y;ha(aa(b),z([1,0,0,1,0,c/h(N(seriesNb))[3]],aa(b)));V()}else j.pan&&W({x:a.x-D.x,y:a.y-D.y},0,s);D=a}};this.clicked=function(a,b){if(!sa)if(D===null)if(mb()){a=E.widgetCoordinates(x.canvas,b);ua.emit(x.widget,
"seriesSelected",a.x,a.y)}};this.mouseWheel=function(a,b){var c=(b.metaKey<<3)+(b.altKey<<2)+(b.ctrlKey<<1)+b.shiftKey;a=j.wheelActions[c];if(!M(a)){var d=E.widgetCoordinates(x.canvas,b),e=Ga(d.x,d.y),f=Ma(d,g());if(!(e===-1&&!f)){var k=E.normalizeWheel(b);if(f&&c===0&&Fa()){c=ba();f=-k.spinY;if(Z(c)){a=lb(c);a=Hb(a,Ra(c));a=Ib(a,y());a=(a[0]+a[1])/2;E.cancelEvent(b);b=Math.pow(1.2,f);ha(aa(c),z([1,0,0,b,0,a-b*a],aa(c)));V();return}}if((a===4||a===5||a===6)&&j.pan){c=o()[4];f=[];for(d=0;d<H();++d)f.push(h(d)[5]);
if(a===6)W({x:-k.pixelX,y:-k.pixelY},0,e);else if(a===5)W({x:0,y:-k.pixelX-k.pixelY},0,e);else a===4&&W({x:-k.pixelX-k.pixelY,y:0},0,e);if(c!==o()[4])for(d=0;d<H();++d)f[d]!==h(d)[5]&&E.cancelEvent(b)}else if(j.zoom){E.cancelEvent(b);f=-k.spinY;if(f===0)f=-k.spinX;if(a===1)La(d,0,f,e);else if(a===0)La(d,f,0,e);else if(a===2)La(d,f,f,e);else if(a===3)k.pixelX!==0?La(d,f,0,e):La(d,0,f,e)}}}};var Lb=function(){mb()&&ua.emit(x.widget,"seriesSelected",D.x,D.y)};X.start=function(a,b,c){ea=B(b.touches)===
1;pa=B(b.touches)===2;if(ea){Aa=false;var d=E.widgetCoordinates(x.canvas,b.touches[0]);a=Ga(d.x,d.y);var e=Ma(d,g());if(a===-1&&!e)return;Da=a===-1&&va()&&Ab(A,[d.x,d.y],30)?1:0;ma=Date.now();D=d;s=a;if(Da!==1){if(!c&&e)Y=window.setTimeout(Lb,200);ca("contextmenu",ra.contextmenuListener)}E.capture(null);E.capture(vb())}else if(pa&&(j.zoom||Fa())){if(Y){window.clearTimeout(Y);Y=null}Aa=false;u=[E.widgetCoordinates(x.canvas,b.touches[0]),E.widgetCoordinates(x.canvas,b.touches[1])].map(function(f){return[f.x,
f.y]});a=-1;if(!u.every(function(f){return Ma(f,g())})){a=Ga(u[0][w],u[0][v]);if(a===-1||Ga(u[1][w],u[1][v])!==a){pa=null;return}s=a}E.capture(null);E.capture(vb());Q=Math.atan2(u[1][1]-u[0][1],u[1][0]-u[0][0]);hb=[(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2];c=Math.abs(Math.sin(Q));d=Math.abs(Math.cos(Q));Q=c<Math.sin(0.125*Math.PI)?0:d<Math.cos(0.375*Math.PI)?Math.PI/2:Math.tan(Q)>0?Math.PI/4:-Math.PI/4;ib=Jb(Q,hb);s=a}else return;xa(b)};X.end=function(a,b){if(Y){window.clearTimeout(Y);Y=null}window.setTimeout(function(){U("contextmenu",
ra.contextmenuListener)},0);var c=Array.prototype.slice.call(b.touches),d=B(c)===0;d||function(){var e;for(e=0;e<B(b.changedTouches);++e)(function(){for(var f=b.changedTouches[e].identifier,k=0;k<B(c);++k)if(c[k].identifier===f){c.splice(k,1);return}})()}();d=B(c)===0;ea=B(c)===1;pa=B(c)===2;if(d){ab=null;if(Da===0&&(isFinite(i.x)||isFinite(i.y))&&j.rubberBand){ma=Date.now();Aa=true;Ya(eb)}else{Da===1&&oa.mouseUp(null,null);c=[];ma=ib=hb=Q=null}Da=null}else if(ea||pa)X.start(a,b,true)};var ab=null,
ta=null,jb=null;X.moved=function(a,b){if(ea||pa)if(!(ea&&D==null)){xa(b);ta=E.widgetCoordinates(x.canvas,b.touches[0]);if(B(b.touches)>1)jb=E.widgetCoordinates(x.canvas,b.touches[1]);if(s===-1&&ea&&Y&&!Ab([ta.x,ta.y],[D.x,D.y],3)){window.clearTimeout(Y);Y=null}ab||(ab=setTimeout(function(){if(s===-1&&ea&&Fa()&&Z(ba())){var c=ba();if(Z(c)){var d=ta,e;e=y()?(d.x-D.x)/h(N(ba()))[3]:(d.y-D.y)/h(N(ba()))[3];aa(c)[5]+=e;D=d;V()}}else if(ea){d=ta;e=Date.now();var f={x:d.x-D.x,y:d.y-D.y};c=e-ma;ma=e;if(Da===
1){A[w]+=f.x;A[v]+=f.y;va()&&la&&Ya(db)}else if(j.pan){i.x=f.x/c;i.y=f.y/c;W(f,j.rubberBand?zb:0,s)}D=d}else if(s===-1&&pa&&Fa()&&Z(ba())){f=y()?w:v;e=[ta,jb].map(function(P){return y()?[P.x,qa]:[Na,P.y]});c=Math.abs(u[1][f]-u[0][f]);var k=Math.abs(e[1][f]-e[0][f]),C=c>0?k/c:1;if(k===c)C=1;c=ba();if(Z(c)){var qa=z(Ia(ia(N(c))),[0,(u[0][f]+u[1][f])/2])[1],Ea=z(Ia(ia(N(c))),[0,(e[0][f]+e[1][f])/2])[1];ha(aa(c),z([1,0,0,C,0,-C*qa+Ea],aa(c)));D=d;V();u=e}}else if(pa&&j.zoom){d=ja(A,O());var Na=(u[0][0]+
u[1][0])/2;qa=(u[0][1]+u[1][1])/2;e=[ta,jb].map(function(P){return Q===0?[P.x,qa]:Q===Math.PI/2?[Na,P.y]:z(ib,[P.x,P.y])});f=Math.abs(u[1][0]-u[0][0]);c=Math.abs(e[1][0]-e[0][0]);var fa=f>0?c/f:1;if(c===f||Q===Math.PI/2)fa=1;var kb=(e[0][0]+e[1][0])/2;c=Math.abs(u[1][1]-u[0][1]);k=Math.abs(e[1][1]-e[0][1]);C=c>0?k/c:1;if(k===c||Q===0)C=1;Ea=(e[0][1]+e[1][1])/2;y()&&function(){var P=fa;fa=C;C=P;P=kb;kb=Ea;Ea=P;P=Na;Na=qa;qa=P}();if(o()[0]*fa>wa())fa=wa()/o()[0];f=[];for(c=0;c<H();++c)f.push(C);for(c=
0;c<H();++c)if(h(c)[3]*f[c]>T(c))f[c]=T(c)/h(c)[3];if(s===-1){if(fa!==1&&(fa<1||o()[0]!==wa()))Ca(o(),z([fa,0,0,1,-fa*Na+kb,0],o()));for(c=0;c<H();++c)if(f[c]!==1&&(f[c]<1||h(c)[3]!==T(c)))Ca(h(c),z([1,0,0,f[c],0,-f[c]*qa+Ea],h(c)))}else if(f[s]!==1&&(f[s]<1||h(s)[3]!==T(s)))Ca(h(s),z([1,0,0,f[s],0,-f[s]*qa+Ea],h(s)));da();d=Va(d,O());A[w]=d[w];A[v]=d[v];u=e;Za();V();Ja()}ab=null},1))}};this.setXRange=function(a,b,c,d){b=n(0)[0]+n(0)[2]*b;c=n(0)[0]+n(0)[2]*c;if(m(n(0))>q(n(0))){if(b>m(n(0)))b=m(n(0));
if(c<q(n(0)))c=q(n(0))}else{if(b<m(n(0)))b=m(n(0));if(c>q(n(0)))c=q(n(0))}var e=Ra(a);e=Kb(e,N(a),b,c,y(),g(),n(N(a)),j.maxZoom);b=e.xZoom;c=e.yZoom;e=e.panPoint;var f=ja(A,O());o()[0]=b;if(c&&d)h(N(a))[3]=c;o()[4]=-e[w]*b;if(c&&d)h(N(a))[5]=-e[v]*c;Ha();a=Va(f,O());A[w]=a[w];A[v]=a[v];da();Za();V();Ja()};this.getSeries=function(a){return Ra(a)};this.rangeChangedCallbacks=[];this.updateConfig=function(a){for(var b in a)if(a.hasOwnProperty(b))j[b]=a[b];Fb();Za();V();Ja()};this.updateConfig({});if(window.TouchEvent&&
!window.MSPointerEvent&&!window.PointerEvent){oa.touchStart=X.start;oa.touchEnd=X.end;oa.touchMoved=X.moved}else{G=function(){};oa.touchStart=G;oa.touchEnd=G;oa.touchMoved=G}});
