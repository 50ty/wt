WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WLeafletMap",function(i,e,j,k,l){e.wtObj=this;var c,f={},h=l,g=[j,k];this.addTileLayer=function(a,b){b=JSON.parse(b);L.tileLayer(a,b).addTo(c)};this.zoom=function(a){h=a;c.setZoom(a)};this.panTo=function(a,b){g=[a,b];c.panTo([a,b])};this.addPolyline=function(a,b){b=JSON.parse(b);L.polyline(a,b).addTo(c)};this.addCircle=function(a,b){b=JSON.parse(b);L.circle(a,b).addTo(c)};this.addMarker=function(a,b){b.addTo(c);f[a]=b};this.removeMarker=function(a){var b=
f[a];if(b){c.removeLayer(b);delete f[a]}};this.moveMarker=function(a,b){(a=f[a])&&a.setLatLng(b)};e.wtEncodeValue=function(){var a=c.getCenter();a=[a.lat,a.lng];var b=c.getZoom();return JSON.stringify({position:a,zoom:b})};this.init=function(a,b){c=L.map(e,{center:a,zoom:b});c.on("zoomend",function(){var d=c.getZoom();if(d!=h){i.emit(e,"zoomLevelChanged",d);h=d}});c.on("moveend",function(){var d=c.getCenter();if(d.lat!=g[0]||d.lng!=g[1]){i.emit(e,"panChanged",d.lat,d.lng);g=[d.lat,d.lng]}})};this.init([j,
k],l)});
